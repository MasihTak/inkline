/**
 * Spacing
 */

@use "../functions/string";
@use "../mixins/breakpoints" as mixins-breakpoints;
@use "../variables/breakpoints";
@use "../variables/spacing";

@each $breakpoint-key in breakpoints.$breakpoint-prefix-keys {
    $prefix: mixins-breakpoints.breakpoint-prefix($breakpoint-key);

    @include mixins-breakpoints.breakpoint-up($breakpoint-key) {
        @each $property in ('margin', 'padding') {
            @each $size, $length in spacing.$spacings {
                $size-class: string.str-replace($size, '/', '\\/');

                ._#{$prefix}#{$property}\:#{$size-class} {
                    #{$property}: spacing.spacing($size) !important;
                }

                ._#{$prefix}#{$property}-top\:#{$size-class},
                ._#{$prefix}#{$property}-y\:#{$size-class} {
                    #{$property}-top: spacing.spacing($size) !important;
                }

                ._#{$prefix}#{$property}-right\:#{$size-class},
                ._#{$prefix}#{$property}-x\:#{$size-class} {
                    #{$property}-right: spacing.spacing($size) !important;
                }

                ._#{$prefix}#{$property}-bottom\:#{$size-class},
                ._#{$prefix}#{$property}-y\:#{$size-class} {
                    #{$property}-bottom: spacing.spacing($size) !important;
                }

                ._#{$prefix}#{$property}-left\:#{$size-class},
                ._#{$prefix}#{$property}-x\:#{$size-class} {
                    #{$property}-left: spacing.spacing($size) !important;
                }
            }
        }

        // Auto margin utils
        //
        ._#{$prefix}margin\:auto {
            margin: auto !important;
        }

        ._#{$prefix}margin-top\:auto,
        ._#{$prefix}margin-y\:auto {
            margin-top: auto !important;
        }

        ._#{$prefix}margin-right\:auto,
        ._#{$prefix}margin-x\:auto {
            margin-right: auto !important;
        }

        ._#{$prefix}margin-bottom\:auto,
        ._#{$prefix}margin-y\:auto {
            margin-bottom: auto !important;
        }

        ._#{$prefix}margin-left\:auto,
        ._#{$prefix}margin-x\:auto {
            margin-left: auto !important;
        }
    }
}
